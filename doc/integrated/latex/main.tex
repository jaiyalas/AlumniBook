%!TEX TS-program = xelatex
\documentclass[11pt]{article}

\usepackage[a4paper,top=2.5cm, bottom=2.5cm, left=3cm, right=3cm]{geometry}

\usepackage{fontspec}
\usepackage{xeCJK}
\usepackage{graphicx}
\usepackage{float}
\usepackage{multirow}
\usepackage[dvipsnames]{xcolor}
\usepackage[colorlinks,linkcolor=NavyBlue]{hyperref}
\usepackage{setspace}

\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt
% \setCJKmainfont{LiHei Pro}
\setCJKmainfont{LiSong Pro}
\newfontfamily{\K}{LiHei Pro}

\newcommand{\todo}[1]{[{\color{red}{#1}}]}
\renewcommand{\figurename}{圖}
\renewcommand{\tablename}{表}

% \renewcommand{\baselinestretch}{1.2}

\begin{document}

\begin{center}{\Huge AlumniBook} {G3} \end{center}

\begin{center}
\begin{tabular}{cccc}
郗昀彥 R00725051&郭瀚智 R02725023&鄭立民 R02725041&李奕德 B99705021 \\
張凱涵 B00705027&施淮振 B00705047&倪嘉銘 T02705102&
\end{tabular} 
\vskip .7cm
\noindent\makebox[\linewidth]{\rule{\linewidth}{1pt}}
\end{center}

\tableofcontents

%% ++++++++++++++++++++++++++++++
\section{專案背景及目的}

本系在發展茁壯的同時培養了許多傑出的人才，這些人散布在各個不同領域。在超級專業化的現代若能連結正確領域的人來提供系上一些建議與幫助，必能讓資管系所內的課程內容與訓練更加的紮實。所以除了學生間的相互聯絡，本系統也將會提供系友與教授及行政人員進入本系統，對其所擅長之專業領域提供協助。學生亦可藉由本系統盡早深入了解產業現況，獲得更多正確且即時的資訊並對未來發展方向有更確實精確的判斷。

為了確保使用者身分得正確性，本系統必須要求使用者經由計算機中心(或其他認證機構)所提供的身分認證服務來認證使用者和其所宣稱的人為同一個人以防冒用。經正確認證之使用者於進入本系統後，會來到共用之瀏覽區。在這個區塊可以看到目前系統中的所有議題，瀏覽並參與討論。在觀看議題的同時使用者也可針對特定議題發表評論，此評論將會由任何觀看此議題的人共同看見。

在討論區中的所有議題都會根據其在發文時選擇的標籤做分類，方便其他使用者閱讀。使用者可以自由的訂閱包含特定標籤的議題，系統會再此類別議題建立時發信至使用者註冊時所使用得系信箱帳戶，讓使用者可以更密切的關柱該類別的議題。若只是關注特定議題之後續發展，亦可選擇只訂閱該議題。系統將依照使用者要求在此議題及其評論更新或新增時寄信至用戶信箱。另外，留言也會自動讓系統將該議題加入訂閱列表。

若在閱讀討論區時對特定人士產生興趣，也可以在適當的隱私權相關管理下查詢特定的系友的相關資訊。能否能夠看見該使用者所有相關資料取決於資料擁有者的個人隱私條件以及搜尋者之帳號類別，或是搜尋者與被搜尋者之間有在本系統中建立特別的朋友關係。本系統中若存在朋友關係則再搜尋時會由特定對象獨立於依照帳號類別做設計的隱私規則，直接套用該使用者針對朋友設定的隱私權相關設定，讓朋友間能夠更加深入的了解彼此。在好友關係尚未建立的情況下，使用者依然可以追蹤其他使用者，系統將會在該用戶發布新的議題時告知訂閱者這項訊息。

除了瀏覽討論區外，使用者亦可編輯自身的相關資料與隱私相關選項來讓自己被更多人看見。本系統將提供預先填入之公開資訊、基礎的個人連絡資訊輸入、以及與職業生涯相關之記錄，三個主要區塊。使用者可依照自身之習慣與想法選擇性的填入資料與決定其公開性。預設的群組別為校友、學生、教授及行政人員、與院系人員及朋友幾種，未來可再依據使用者需求做調整。

本系統旨在於建立一個能夠有效凝聚資管系所內之相關人士，提供一個跨界跨部(研究所與大學部)之溝通平台。本系統將階段性提供完整的溝通整合服務，冀望成為連結具專業知識的人幫忙解答疑惑，也希望能夠成為校友找人、學生找事之合作橋梁。

%% ++++++++++++++++++++++++++++++
\section{專案假設與限制}

為使本計畫順暢運行，其執行環境必須具有以下幾點之限制，其中缺乏任一一項將造成時程延宕或效果不如預期等等缺陷。

\begin{itemize}
\item{[身分認證]~~關於身分認證部分，台大計算機中心必須能夠提供 single sign-on 之服務，並且能夠回應本系統所有身分認證之需求。同時，回傳之 token 必須包含學號等資訊以供系統自動填入使用者帳號詳細內容使用。}
\item{[硬體]~~台大資管系必須能夠提供用於最後架站所需之伺服器的硬體設備或虛擬伺服器。}
\item{[帳戶資料]~~台大資管系必須提供預設帳戶之資料，以供建立初始使用者名單之用。或系所應能提供學號之判別方式來認證所有正常的用戶，例如其學號範圍、數字上的特徵與限制等等。}
\item{[使用者習慣討論]~~本系統需能夠對隸屬於每個不同預設分類項下之使用者做指定形式之訪談，以便了解每個職位之使用者對本系統之期望與意見。此意見將影響預設帳號類別之新增與刪去、朋友關係的用途與系統未來發展之用。}
\item{[階段性開放]~~本計畫將以階段性的方式向終點努力，期間所釋出的測試系統並不一定與完成系統之表現、內容完全相同。會依照以下順序依序開放測試:
\begin{itemize}
\item{使用者帳號管理}
\item{討論區測試}
\item{完整上線系統}
\end{itemize}}
\item{[使用者範圍]~~本系統預設之使用者範圍為校友、學生、教授及行政人員。超出本規畫範圍者將必須等到完整系統上線後發現有必要才會以更新版本的新增。}
\item{[行動裝置]~~本系統雖有預設API開放給未來發展之非特定行動裝置系統中的程式，但是並不包含強制性的程式開發，將再行有餘力之時完成此部分。}
\item{[電子郵件服務]~~台大資管系在軟硬體準備時必須開起電子郵件服務，讓本系統能順暢得依照使用者之要求處理訂閱議題以及類別之需求。}
\end{itemize}


%% ++++++++++++++++++++++++++++++
\section{專案範圍}

\subsection{功能性需求}
在功能性需求的部分本系統應包含登入模組、個人資料管理模組、討論區模組、搜尋模組、關係建立模組、行動裝置模組、討論區模組、訂閱模組、使用者列表模組、首頁模組。全部功能性需求請見表~\ref{req}。

\begin{table}[t]
\centering
\begin{tabular}{ | l | l | l | }
\hline
功能模組 & 功能需求 & 功能範圍 \\ \hline \hline
\multirow{3}{*}{登入模組}
& 輸入身分 & 讓使用者宣稱自己的身分\\
& 身分認證 & 透過計中做身分認證 \\
& 取得token & 回收計中回傳的 token \\ \hline
\multirow{6}{*}{個人資料管理模組}
& 管理公開資料 & 讓使用者維護帳號的公開資訊 \\
& 管理個人聯絡資料& 讓使用者維護帳號的聯絡資料\\
& 職業生涯資料管理& 讓使用者維護職業生涯相關資料 \\
& 隱私權管理& 讓使用者管理帳號之公開性選項 \\
& 關係管理& 讓使用者管理與其他帳號之間的關係 \\
& 儲存資料異動& 儲存任何使用者新增/修改/刪除之資料 \\ \hline
\multirow{2}{*}{搜尋模組}
& 搜尋特定使用者 & 依照指定學號搜尋符合帳號 \\
& 回傳指定使用者 & 依照指定學號回傳符合條件之帳號 \\ \hline
 \multirow{3}{*}{關係建立模組}
& 傳送使用者好友要求 & 由被要求者決定是否成為該用戶之朋友 \\
& 記錄使用者對要求之回應 & 提供被要求者回應交友要求 \\
& 記錄使用者之友好狀況 & 儲存所有與該使用者為好友關係的連結 \\ \hline
\multirow{4}{*}{討論區模組}
& 新增議題 & 讓使用者以自己的帳號新增議題 \\
& 瀏覽議題 & 讓使用者流覽系統中之議題 \\
& 標示議題類別 & 讓使用者清楚了解顯示的議題之標籤 \\
& 管理議題 & 系統管理者確認類別系統正常運作 \\ \hline
\multirow{3}{*}{訂閱模組}
& 訂閱使用者 & 讓使用者關注其他使用者之發文 \\
& 訂閱議題 & 讓使用者關注特定議題的後續發展 \\
& 訂閱議題類別 & 讓使用者關注特定議題類別的新增議題 \\ \hline
% \multirow{2}{*}{使用者列表}
% & 預設顯示模組 & 顯示系統內所有使用者之公開資料 \\
% & 過濾模組 & 依照使用者需求過濾資料後顯示 \\ \hline
% \multirow{2}{*}{首頁}
% & 系統公告模組 & 顯示系統公告 \\
% & 整合模組 & 連結系上公告 \\ \hline
\end{tabular}
\caption{功能性需求列表}
\label{req}
\end{table}

\subsection{非功能性需求}
非功能性需求的部分主要牽涉到關於資料未來可能的彈性、系統運作的穩定性、系統元件的重複利用可能、以及資訊安全等。
\begin{itemize}
\item{[資料可變性]~~針對例如說使用者種類或是文章類型等等資訊，設計出未來較容易擴充之資料儲存模型。 }
\item{[系統穩定性]~~硬體方面，需配置不斷電系統以及資料自動備份系統以維持系統不斷線的能力。另一方面，也需要設計具有平衡流量能力的伺服器架構，以有效降平均回應時間。}
\item{[系統安全性]~~軟體方面，為防止已知的幾種攻擊方式，本系統在設計時必須確保使用者不會再不恰當的地方使用”‘“等特殊符號。包含 SQL injection 在內的幾種攻擊方式都必須要在系統設計時避免。}
\item{[使用者期望]~~為確保本系統朝向正確且易學易用的方向發展，在發展過程中將不定期的針對特定使用者族群做抽樣調查。取得之資料將在適當的分析之後，用於增進系統效能與新增功能或是修改錯誤等等面向。}
\end{itemize}

%% ++++++++++++++++++++++++++++++
\section{系統設計}

% 系統架構
\input{41.tex}

% 資料庫架構
\input{42.tex}

\subsection{軟工議題}
\subsubsection{設計模式}

本系統實作時將使用下述設計模式 (design pattern) 以增加系統架構之彈性。

\paragraph{Model-View-Controller}

本系統採用 Ruby on Rails 作為主要伺服器端開發架構，而 Ruby on Rails 是一套建基於 MVC 架構上之網站開發平台。MVC 架構的好處是可以將
\begin{itemize}
\item 回應與運算邏輯
\item 資訊顯示邏輯
\item 資料操作邏輯
\end{itemize}
這三者所對應之程式區塊區別清楚，對於程式碼管理以及系統擴充性都有著顯著之提昇。

\paragraph{Adapter}










\paragraph{Observer}

Observer可以讓我們可以針對Model 的生命週期中的某些階段做出對應的行為，例如model新增、修改、查詢、刪除時，觀察者 (observers) 可以在 model 的外部進行相關的動作，model可以藉由註冊觀察者來讓觀察者監聽自己的行為，不同的model也可以註冊共用觀察者，在此系統我們使用Observer pattern來設計議題產生與留言產生時的通知，當Topic建立時，觀察者會傳送通知信給有跟隨Topic建立者的使用者，在Comment建立時，觀察者會傳送通知信給有訂閱此Comment所屬的Topic的使用者。這樣的設計模式可以有效區別Model本身的用途與外部功能，例如寄送通知信、確認信等進行外部動作時，即可使用觀察者模式來設計。

\subsection{使用套裝軟體及開發工具、程式語言}
本系統採用 Ruby on Rails 作為主要伺服器端開發架構，使用 Ruby 2.0.0-p247 版本，Rails 4.0.0 版本，以 Grape 這個 Ruby REST-like API micro-framework 建立起主要 API server，提供網頁端與手機 JSON API，連結 MySQL(5.5.29) 資料庫儲存索取更新並維持資料正確與一致性，前端網頁頁面以 HTML5(HTML, CSS, JavaScript) 撰寫而成，採用Angular.js(1.2.0) 一個前端 JavaScript MVC 架構增加程式碼模組化與維護性，使用介面以 Bootstrap(3.0.0) 作為主要網頁前端外觀元件框架，加速雛形開發。
\subsection{系統環境需求}
目前Ruby on Rails Server架設在 Heroku 一個雲端應用平台，提供高度延展性，以亞馬遜 AWS EC2 為基礎建構而成的伺服器叢集，使用 git 上傳即可快速部屬，伺服器主要需要運行在 Ruby 2.0.0 與 Rails4.0.0 環境下。網頁前端頁面則放置在 Http server (如 Apache, Nginx) 下，並與 PostgreSQL 資料庫放在資管系主機。前端網頁則相容於多數瀏覽器 (Chrome, Safari, Firefox…)，提供使用者多樣的使用選擇。

\end{document}